{
  "hash": "2f32a140d52d2e1bbd634b2e54b1acb3",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"ANES 2024 is Out! How to Analyze the Data with R\"\nauthor: \"Isabella Velásquez\"\ndate: 2025-08-20\ncode-summary: \"Show the code\"\ndescription: \"Explore the newly released ANES 2024 survey data in R with {survey} and {srvyr}.\"\ncategories: \"\"\nimage: image.jpg\neditor: source\n---\n\nLast fall, my co-authors [Stephanie Zimmer](https://www.linkedin.com/in/stephanie-zimmer/), [Rebecca Powell](https://www.linkedin.com/in/rebecca-powell-1416226b/), and I released [Exploring Complex Survey Data Analysis Using R](https://tidy-survey-r.github.io/tidy-survey-book/). Earlier this August, we had the joy of teaching a [workshop](https://tidy-survey-r.github.io/user-2025-survey-data-tutorial/) based on the book at [useR! 2025](https://user2025.r-project.org/).\n\nOne of our favorite examples in both the book and workshop comes from the [American National Election Studies (ANES)](https://electionstudies.org/), a long-running project from Stanford University and the University of Michigan supported by the National Science Foundation. Since 1948, ANES has fielded surveys almost every two years, making it one of the richest resources for studying public opinion and voting behavior in U.S. elections. The data cover everything from party affiliation to trust in government, and are carefully designed to represent the voting population.\n\nJust a couple of days after returning from useR!, I was thrilled to see that the brand-new ANES 2024 dataset had been released!\n\n<center>\n<blockquote class=\"bluesky-embed\" data-bluesky-uri=\"at://did:plc:l5kkuquemh5xnycs2axptlam/app.bsky.feed.post/3lw7tc5qqic2z\" data-bluesky-cid=\"bafyreibnu557kdchflh56tq6ecqchxuiw455j3i3mqfjit67tlrutfw7vq\" data-bluesky-embed-color-mode=\"system\"><p lang=\"en\">The full release of the ANES 2024 Time Series #Data is now available. More details here: electionstudies.org/anes-announc...<br><br><a href=\"https://bsky.app/profile/did:plc:l5kkuquemh5xnycs2axptlam/post/3lw7tc5qqic2z?ref_src=embed\">[image or embed]</a></p>&mdash; American National Election Studies (<a href=\"https://bsky.app/profile/did:plc:l5kkuquemh5xnycs2axptlam?ref_src=embed\">@electionstudies.bsky.social</a>) <a href=\"https://bsky.app/profile/did:plc:l5kkuquemh5xnycs2axptlam/post/3lw7tc5qqic2z?ref_src=embed\">August 12, 2025 at 12:24 PM</a></blockquote><script async src=\"https://embed.bsky.app/static/embed.js\" charset=\"utf-8\"></script>\n</center>\n\nSurvey data like ANES are not as straightforward as a simple random sample. Some groups are intentionally oversampled, others are harder to reach, and not every respondent has the same probability of being included. To correct for this, surveys provide \"weights\", or numbers that tell us how much each response should “count” when estimating results for the whole population.\n\nIf we ignore these weights and just calculate raw percentages, we risk drawing the wrong conclusions. That’s where the [{survey}](https://r-survey.r-forge.r-project.org/survey/) and [{srvyr}](http://gdfe.co/srvyr/) packages come in: they handle weights, strata, and clusters behind the scenes so our estimates properly reflect the survey design.\n\nSo, let’s walk through how you can get started analyzing this dataset in R with the {survey} and {srvyr} packages. For more depth, the [Getting Started](https://tidy-survey-r.github.io/tidy-survey-book/c04-getting-started.html) chapter of our book is a handy companion.\n\n## Download the data\n\nHead to the [Election Studies website](https://electionstudies.org/data-center/2024-time-series-study/) and grab the CSV version of the 2024 Time Series study. The download comes as a Zip file that includes both the dataset and documentation.\n\n## Load packages and data\n\nWe’ll use the tidyverse for wrangling, and {survey} plus {srvyr} for analysis:\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(survey)\nlibrary(srvyr)\n\nanes_2024 <-\n  read_csv(\"anes_timeseries_2024_csv_20250808.csv\")\n```\n:::\n\n## Review the documentation\n\n[Reviewing the survey documentation](https://tidy-survey-r.github.io/tidy-survey-book/c03-survey-data-documentation.html) is a critical part of survey analysis. The [ANES materials](https://electionstudies.org/wp-content/uploads/2025/08/anes_timeseries_2024_userguidecodebook_20250808.pdf) include details about the sample, weighting, and codebook.\n\n### Sample\n\nThe 2024 sample was designed to represent U.S. citizens age 18 or older. Respondents were recruited from both in-person and web samples, with careful notes on eligibility and exclusions.\n\n### Codebook\n\nThe codebook decodes variable names into something human-readable.\n\n![](codebook.png){width=40% fig-align=\"center\" style=\"box-shadow: 5px 5px 15px rgba(0, 0, 0, 0.3); border-radius: 5px;\"}\n\nHere are two variables we’ll use:\n\n* `V240002b`: MODE OF INTERVIEW: POST-ELECTION: This variable captures the mode in which the respondent completed the majority of the post-election survey.\n  * -7. Insuﬃcient parital, interview deleted\n  * -6. No post interview\n  * 1. Face-to-face (FTF)\n  * 2. Internet (WEB)\n  * 3. Paper (PAPI)\n  * 4. Phone\n  * 5. Video\n  \n* `V241229`: PRE: HOW OFTEN TRUST GOVERNMENT IN WASHINGTON TO DO WHAT IS RIGHT [REVISED]: \n  * -9. Refused\n  * -8. Don’t know\n  * -1. Inapplicable\n  * 1. Always\n  * 2. Most of the time\n  * 3. About half the time\n  * 4. Some of the time\n  * 5. Never\n  \nLet’s recode `V241229` for easier analysis:\n  \n::: {.cell}\n\n```{.r .cell-code}\nanes_2024_code <-\n  anes_2024 |> \n  mutate(\n    TrustGovernment = factor(\n      case_when(\n        V241229 == 1 ~ \"Always\",\n        V241229 == 2 ~ \"Most of the time\",\n        V241229 == 3 ~ \"About half the time\",\n        V241229 == 4 ~ \"Some of the time\",\n        V241229 == 5 ~ \"Never\",\n        .default = NA\n      ),\n      levels = c(\"Always\", \"Most of the time\", \"About half the time\", \"Some of the time\", \"Never\")\n    )\n  )\n```\n:::\n\n\nSee more on [codebooks](https://tidy-survey-r.github.io/tidy-survey-book/c03-survey-data-documentation.html#codebooks).\n\n## Create a design object\n\nThe design object is the backbone of survey analysis. Survey data use weights, strata, and clusters to reflect the population. That means we need a survey design object before running any analyses, and the design object tells R which weights to use, how respondents were sampled, and what adjustments are needed. Without it, any estimates we calculate could be misleading.\n\nTo build the design object, we need three key ingredients:\n\n1. Weights: to make sure results reflect the population.\n2. Strata: groups used in sampling to ensure coverage.\n3. Clusters (PSUs): primary sampling units, like households or addresses.\n\n### Finding the right weight\n\nThe ANES documentation lists which weight variables go with which sample:\n\n![](weights.png){width=40% fig-align=\"center\" style=\"box-shadow: 5px 5px 15px rgba(0, 0, 0, 0.3); border-radius: 5px;\"}\n\nSince we’re looking at the post-election fresh in-person sample, we’ll use weight variable `V240101b`.\n\nOne important note: ANES weights add up to the sample size, not the population size. Let’s confirm:\n\n::: {.cell}\n\n```{.r .cell-code}\nanes_2024_code |> filter(V240101b > 0) |> summarize(sum = sum(V240101b))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 1 × 1\n    sum\n  <dbl>\n1   925\n```\n\n\n:::\n:::\n\nThis matches the `925` respondents shown in the documentation’s sample table.\n\n![](sample.png){width=40% fig-align=\"center\" style=\"box-shadow: 5px 5px 15px rgba(0, 0, 0, 0.3); border-radius: 5px;\"}\n\n### Adjusting for the population\n\nIf we want to make inferences about the entire U.S. population, we need to adjust the weights. The target population for this sample is about 232.5 million U.S. citizens aged 18 or older, but that’s just a rough number. Per the documentation, for something more precise, we can pull population counts from the 2023 American Community Survey 1-year estimates.\n\nThank you, Stephanie, for writing up the code for the population estimates! \n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidycensus)\n\nvarlist_2023 <- load_variables(2023, \"acs1\")\n\ncitizen_pop_18_plus <-\n  get_acs(\n    geography = \"state\",\n    variable = \"S2901_C01_001\",\n    year = 2023,\n    survey = \"acs1\"\n  )\n\npums_vars_2023 <- pums_variables |>\n  as_tibble() |>\n  filter(year == 2023, survey == \"acs1\")\n\npums_vars_2023 |>\n  filter(var_code %in% c(\"AGEP\", \"TYPEHUGQ\", \"CIT\")) |>\n  select(var_code, var_label, val_min, val_max, val_label) |>\n  print(n = 50)\n\n# Find those who are 18+ and in group quarters\nget_citizen_pop_18_plus_gq <- function(state) {\n  get_pums(\n    variables = c(\"AGEP\", \"TYPEHUGQ\"),\n    state = state,\n    year = 2023,\n    survey = \"acs1\",\n    variables_filter = list(\n      TYPEHUGQ = 2:3 ,\n      CIT = 1:4,\n      AGEP = (18:200)\n    )\n  ) |>\n    summarize(estimate = sum(PWGTP), .by = STATE)\n}\n\ncitizen_pop_18_plus_gq_l <- c(state.abb, \"DC\") |>\n  map(get_citizen_pop_18_plus_gq)\n\ncitizen_pop_18_plus_gq_df <-\n  citizen_pop_18_plus_gq_l |>\n  list_rbind() |>\n  rename(estimate_gq = estimate)\n\nstate_pops <- citizen_pop_18_plus |>\n  select(GEOID, NAME, estimate_tot = estimate) |>\n  full_join(citizen_pop_18_plus_gq_df, by = c(\"GEOID\" = \"STATE\")) |>\n  filter(NAME != \"Puerto Rico\") |>\n  mutate(estimate_scope = estimate_tot - estimate_gq)\n\n# Total without AK and HI\ntargetpop <-\n  state_pops |>\n  filter(!GEOID %in% c(\"02\", \"15\")) |>\n  summarize(TargetPop = sum(estimate_scope))\n\n# Total with AK and HI\nstate_pops |>\n  summarize(TargetPop = sum(estimate_scope))\n```\n:::\n\n\n\nThe estimated target population (`targetpop`) for 2024 is 232,449,541. Now we can rescale the ANES weights so they add up to the population size:\n\n::: {.cell}\n\n```{.r .cell-code}\nanes_adjwgt <- anes_2024_code |>\n  mutate(Weight = V240101b / sum(V240101b, na.rm = TRUE) * targetpop)\n```\n:::\n\n### Strata and clusters\n\nThe documentation also tells us which strata and PSU (cluster) variables pair with each weight.\n\n![](weight-strata-cluster.png){width=40% fig-align=\"center\" style=\"box-shadow: 5px 5px 15px rgba(0, 0, 0, 0.3); border-radius: 5px;\"}\n\nFor V240101b, those are:\n\n* Strata: `V240101d`\n* PSU: `V240101c`\n\nMore on [sampling design can be found in this chapter](https://tidy-survey-r.github.io/tidy-survey-book/c10-sample-designs-replicate-weights.html).\n\n### Putting it all together\n\nFinally, we can build the design object. We’ll also filter to respondents who actually completed the in-person post-election interview (`V240002b == 1`):\n\n::: {.cell}\n\n```{.r .cell-code}\noptions(survey.lonely.psu = \"adjust\")\n\nanes_des <- anes_adjwgt |>\n  filter(V240002b == 1) |>\n  as_survey_design(\n    weights = Weight,\n    strata = V240101d,\n    ids = V240101c,\n    nest = TRUE\n  )\n\nanes_des\n```\n:::\n\nAnd there we go! `anes_des` is our fully specified survey design object. From here on, we use it so every estimate we calculate properly reflects the survey’s design.\n\n## Analyze the data\n\nNow for the fun part! Let’s see how people answered the Trust Government question:\n\n::: {.cell}\n\n```{.r .cell-code}\n(\n  trustgov <- anes_des |>\n    drop_na(TrustGovernment) |>\n    group_by(TrustGovernment) |>\n    summarize(p = survey_prop(vartype = \"ci\")) |>\n    mutate(Variable = \"V241229\") |>\n    rename(Answer = TrustGovernment) |>\n    select(Variable, everything())\n)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 5 × 5\n  Variable Answer                    p   p_low  p_upp\n  <chr>    <fct>                 <dbl>   <dbl>  <dbl>\n1 V241229  Always              0.00774 0.00288 0.0206\n2 V241229  Most of the time    0.174   0.122   0.242 \n3 V241229  About half the time 0.283   0.225   0.351 \n4 V241229  Some of the time    0.402   0.341   0.465 \n5 V241229  Never               0.133   0.0857  0.201 \n```\n\n\n:::\n:::\n\nAnd a quick plot:\n\n::: {.cell}\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-9-1.png){width=2100}\n:::\n:::\n\nThe results show just how varied public trust is, with only a small fraction of respondents saying they always trust the government.\n\nWe can also look at the data by subgroups:\n\n::: {.cell}\n\n```{.r .cell-code}\nanes_des <-\n  anes_des |>\n  mutate(Gender = factor(\n    case_when(V241550 == 1 ~ \"Male\", V241550 == 2 ~ \"Female\", .default = NA),\n    levels = c(\"Male\", \"Female\")\n  ))\n\n(\n  trustgov_gender <- anes_des |>\n    drop_na(Gender, TrustGovernment) |>\n    group_by(Gender, TrustGovernment) |>\n    summarize(p = survey_prop(vartype = \"ci\")) |>\n    mutate(Variable = \"V241229\") |>\n    rename(Answer = TrustGovernment) |>\n    select(Variable, everything())\n)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 10 × 6\n# Groups:   Gender [2]\n   Variable Gender Answer                    p    p_low  p_upp\n   <chr>    <fct>  <fct>                 <dbl>    <dbl>  <dbl>\n 1 V241229  Male   Always              0.0123  0.00379  0.0393\n 2 V241229  Male   Most of the time    0.194   0.109    0.322 \n 3 V241229  Male   About half the time 0.249   0.178    0.336 \n 4 V241229  Male   Some of the time    0.423   0.321    0.533 \n 5 V241229  Male   Never               0.121   0.0659   0.212 \n 6 V241229  Female Always              0.00336 0.000744 0.0150\n 7 V241229  Female Most of the time    0.153   0.0984   0.230 \n 8 V241229  Female About half the time 0.320   0.208    0.457 \n 9 V241229  Female Some of the time    0.381   0.285    0.487 \n10 V241229  Female Never               0.142   0.0736   0.257 \n```\n\n\n:::\n:::\n\n:::{.column-page}\n\n::: {.cell}\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-11-1.png){width=2100}\n:::\n:::\n\n:::\n\n## Wrap up\n\nThe ANES 2024 release is packed with insights, and what we’ve covered here is just the beginning. With hundreds of variables across attitudes, demographics, and behaviors, you’ll definitely find questions worth exploring.\n\nIf you try out the dataset, I’d love to hear what you discover. Feel free to share your own analyses or visualizations!\n\nFind me on Bluesky: [@ivelasq3](https://bsky.app/profile/ivelasq3.bsky.social)\n\nCheck out more resources:\n\n* [Exploring Complex Survey Data Analysis Using R](https://tidy-survey-r.github.io/tidy-survey-book/) free online book\n* [{survey}](https://r-survey.r-forge.r-project.org/survey/) package documentation\n* [{srvyr}](http://gdfe.co/srvyr/) package documentation\n  * [{srvyr} cheatsheet](https://github.com/gergness/srvyr/blob/main/cheatsheet/srvyr.pdf) for quick function references",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}